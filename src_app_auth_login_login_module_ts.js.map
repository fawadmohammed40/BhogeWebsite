{"version":3,"sources":["./src/app/auth/login/login-routing.module.ts","./src/app/auth/login/login.module.ts","./src/app/auth/login/login.page.ts","./src/app/auth/login/login.page.scss","./src/app/auth/login/login.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEd;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kDAAS;KACrB;CACF,CAAC;IAMW,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IAJlC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBM;AACM;AACkB;AAEpB;AAEmB;AAEvB;IAY5B,eAAe,SAAf,eAAe;CAAG;AAAlB,eAAe;IAV3B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,yEAAsB;YACtB,+DAAmB;SACpB;QACD,YAAY,EAAE,CAAC,kDAAS,CAAC;KAC1B,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBsB;AACkB;AACV;AACjB;AACmC;IAO/D,SAAS,SAAT,SAAS;IAUpB,YACU,WAAwB,EACxB,WAAwB,EACxB,MAAc,EACd,eAAiC;QAHjC,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAkB;QAX3C,iBAAY,GAAG,KAAK,CAAC;QACrB,uBAAkB,GAAG,KAAK,CAAC;QAE3B,YAAO,GAAa,KAAK;QAEzB,gBAAW,GAAa,KAAK;QAC7B,aAAQ,GAAW,OAAO;IAMtB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,KAAK;QACxB,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;QAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5C,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,8DAAkB,CAAC,cAAc,CAAC,CAAC,CAAC;YACtE,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9D,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,GAAG,EAAE,CAAC,EAAE,EAAC,CAAC,+DAAmB,EAAE,gEAAoB,CAAC,CAAC,CAAC,EAAE,gEAAoB,CAAC,CAAC,CAAC,CAAC,EAAE;SACnF,CAAC,CAAC;IACL,CAAC;IACD,cAAc;QACZ,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QACrC,IAAG,IAAI,CAAC,kBAAkB,IAAI,KAAK,EAAE;YACjC,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;SACrC;aAAM;YACL,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACjC;IACL,CAAC;IACD,SAAS;QACP,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QAErC,UAAU,CAAC,GAAG,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YACzC,2BAA2B;QAC7B,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IACD,YAAY;QACV,IAAI,CAAC,QAAQ,GAAG,UAAU;IAC5B,CAAC;IACD,WAAW;QACT,IAAI,CAAC,QAAQ,GAAG,OAAO;IACzB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;IAC5C,CAAC;IAED,QAAQ;QACN,IAAG,IAAI,CAAC,aAAa,IAAI,OAAO,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAC1D,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,WAAW,GAAG,KAAK;gBACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;YAC/B,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,GAAG,CAAE,SAAS,EAAE,KAAK,CAAC,GAAG,CAAE,EAAC,CAAC,CACnD,CAAC;SACH;QACD,IAAG,IAAI,CAAC,aAAa,IAAI,UAAU,EAAE;YACnC,IAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,EAAE;gBACtG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAC7D,CAAC,OAAO,EAAE,EAAE;oBACV,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAChB,IAAI,CAAC,SAAS,EAAE;oBAChB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAClC,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,GAAG,CAAE,SAAS,EAAE,KAAK,CAAC,GAAG,CAAE,EAAC,CAAC,CACnD,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,wBAAwB,CAAC,CAAC;aACnD;SACF;QACD,IAAG,IAAI,CAAC,aAAa,IAAI,QAAQ,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAC7E,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC;gBACtB,IAAG,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE;oBACjB,IAAI,CAAC,OAAO,GAAG,IAAI;iBACpB;gBACD,IAAI,CAAC,WAAW,GAAG,IAAI;gBACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;YAC/B,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,GAAG,CAAE,SAAS,EAAE,KAAK,CAAC,GAAG,CAAE,EAAC,CAAC,CACnD,CAAC;SACH;IACH,CAAC;IACD,SAAS,CAAC,MAAM,EAAE,GAAG;QACnB,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YACtC,OAAO,EAAE,GAAG;YACZ,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;QACH,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IACzC,CAAC;CAEJ;;YAjHmB,uDAAW;YACtB,+DAAW;YACX,mDAAM;YACI,2DAAe;;AAOrB,SAAS;IALrB,wDAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,0EAAgC;;KAEjC,CAAC;GACW,SAAS,CAuGrB;AAvGqB;;;;;;;;;;;;;;;;ACXtB,iEAAe,aAAa,+BAA+B,GAAG,kBAAkB,sBAAsB,uBAAuB,qBAAqB,mBAAmB,sBAAsB,oBAAoB,GAAG,gBAAgB,qBAAqB,qBAAqB,GAAG,6CAA6C,mzBAAmzB,E;;;;;;;;;;;;;;;ACA/mC,iEAAe,qFAAqF,UAAU,4HAA4H,0xDAA0xD,wGAAwG,oKAAoK,sTAAsT,E","file":"src_app_auth_login_login_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule ,ReactiveFormsModule} from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { Platform, AlertController, ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  credentialsForm: FormGroup;\n  showPassword = false;\n  passwordToggleIcon = 'eye';\n  buttonClicked: any;\n  regUser : boolean = false\n  data : any\n  doSomething : boolean = false\n  pageName: String = \"Login\"\n  constructor(\n    private formBuilder: FormBuilder,\n    private authService: AuthService,\n    private router: Router,\n    private alertController : AlertController\n  ) { }\n\n  ngOnInit() {\n    this.regUser = false;\n    this.doSomething = false\n    this.authService.checkToken();\n    this.credentialsForm = this.formBuilder.group({\n      phone: ['', [Validators.required, Validators.pattern(/^[6-9]\\d{9}$/)]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      cpassword: ['', [Validators.required, Validators.minLength(6)]],\n      otp: ['',[Validators.required, Validators.minLength(6), Validators.maxLength(6)],],\n    });\n  }\n  togglePassword(): void {\n    this.showPassword = !this.showPassword;\n      if(this.passwordToggleIcon == 'eye') {\n          this.passwordToggleIcon = 'eye-off';\n        } else {\n          this.passwordToggleIcon = 'eye';\n        }\n    }\n    doRefresh() {\n      console.log('Begin async operation');\n\n      setTimeout(() => {\n        console.log('Async operation has ended');\n        // event.target.complete();\n      }, 2000);\n    }\n    registerPage(){\n      this.pageName = \"Register\"\n    }\n    toLoginPage(){\n      this.pageName = \"Login\"\n    }\n\n    toFPassPage(){\n      this.router.navigate(['/forget-password'])\n    }\n\n    onSubmit() {\n      if(this.buttonClicked == \"login\") {\n        this.authService.login(this.credentialsForm.value).subscribe(\n          (res) => {\n            this.regUser = false;\n            this.doSomething = false\n            this.credentialsForm.reset();\n          },\n          (error) => { console.log( \" Error \", error.msg ) }\n        );\n      }\n      if(this.buttonClicked == \"register\") {\n        if(this.credentialsForm.controls['password'].value == this.credentialsForm.controls['cpassword'].value) {\n          this.authService.register(this.credentialsForm.value).subscribe(\n            (success) => {\n              this.ngOnInit();\n              this.doRefresh()\n              this.router.navigate([\"/login\"])\n            },\n            (error) => { console.log( \" Error \", error.msg ) }\n          );\n        } else {\n          this.showAlert('Error', 'Passwords do not match');\n        }\n      }\n      if(this.buttonClicked == \"submit\") {\n        this.authService.regOTP(this.credentialsForm.controls['phone'].value).subscribe(\n          (res) => {\n            this.data = res[\"otp\"]\n            if(this.data == 2) {\n              this.regUser = true\n            }\n            this.doSomething = true\n            console.log(this.doSomething)\n          },\n          (error) => { console.log( \" Error \", error.msg ) }\n        );\n      }\n    }\n    showAlert(header, msg) {\n      let alert = this.alertController.create({\n        message: msg,\n        header: header,\n        buttons: ['OK'],\n      });\n      alert.then((alert) => alert.present());\n    }\n\n}\n","export default \".headerdiv {\\n  padding: 20px 0px 0px 20px;\\n}\\n\\n.loginheader {\\n  padding-top: 50px;\\n  padding-left: 20px;\\n  font-size: large;\\n  color: #30bb9e;\\n  font-weight: bold;\\n  font-size: 22px;\\n}\\n\\n.logincard {\\n  box-shadow: none;\\n  margin-top: 50px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDBCQUFBO0FBQ0o7O0FBQ0U7RUFFRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBR0U7RUFDQyxnQkFBQTtFQUNDLGdCQUFBO0FBQUoiLCJmaWxlIjoibG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlcmRpdntcclxuICAgIHBhZGRpbmc6IDIwcHggMHB4IDBweCAyMHB4O1xyXG4gIH1cclxuICAubG9naW5oZWFkZXJcclxuICB7XHJcbiAgICBwYWRkaW5nLXRvcDogNTBweCA7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XHJcbiAgICBmb250LXNpemU6IGxhcmdlO1xyXG4gICAgY29sb3I6ICMzMGJiOWU7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICB9XHJcbiAgXHJcbiAgXHJcbiAgLmxvZ2luY2FyZHtcclxuICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICAvLyAtLWJhY2tncm91bmQ6ICNmNmZhZjY7XHJcbiAgICBcclxuICB9Il19 */\";","export default \"<ion-content>\\n  <div class=\\\"headerdiv\\\">\\n    <ion-label class=\\\"loginheader\\\"> {{pageName}} </ion-label>\\n  </div>\\n  <div class=\\\"ion-text-center\\\">\\n    <img height=\\\"70%\\\" width=\\\"70%\\\" style=\\\"padding-top: 50px;\\\" src=\\\"../../../assets/authentication.svg\\\" alt=\\\"\\\">\\n  </div>\\n  <form [formGroup]=\\\"credentialsForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n    <ion-card class=\\\"logincard\\\">\\n      <ion-item *ngIf=\\\"doSomething==false\\\" lines=\\\"full\\\">\\n        <ion-input type=\\\"text\\\" formControlName=\\\"phone\\\" placeholder=\\\"Enter Contact Number\\\"> </ion-input>\\n      </ion-item>\\n      <ion-item *ngIf=\\\"regUser == false && doSomething==true\\\" lines=\\\"full\\\">\\n        <ion-input type=\\\"text\\\" formControlName=\\\"otp\\\" placeholder=\\\"Enter OTP here\\\"> </ion-input>\\n      </ion-item>\\n      <ion-item *ngIf=\\\"doSomething==true\\\" lines=\\\"full\\\">\\n        <ion-input type=\\\"password\\\" formControlName=\\\"password\\\" placeholder=\\\"Enter password\\\"> </ion-input>\\n      </ion-item>\\n      <ion-item *ngIf=\\\"doSomething==true && regUser == false\\\" lines=\\\"full\\\">\\n        <ion-input type=\\\"password\\\" formControlName=\\\"cpassword\\\" placeholder=\\\"Confirm Password\\\"> </ion-input>\\n      </ion-item>\\n    </ion-card>\\n    <ion-row class=\\\"ion-margin\\\">\\n      <ion-col class=\\\"ion-text-center\\\">\\n        <ion-button *ngIf=\\\"doSomething==false\\\" [disabled]=\\\"!this.credentialsForm.controls['phone'].valid\\\"\\n          (click)=\\\"buttonClicked = 'submit'\\\" type=\\\"submit\\\" color=\\\"danger\\\">Next</ion-button>\\n        <ion-button *ngIf=\\\"doSomething==true && regUser == true\\\"\\n          [disabled]=\\\"!this.credentialsForm.controls['password'].valid\\\" (click)=\\\"buttonClicked = 'login'\\\" type=\\\"submit\\\"\\n          color=\\\"primary\\\">Login</ion-button>\\n        <ion-button *ngIf=\\\"regUser == false && doSomething==true\\\" (click)=\\\"buttonClicked = 'register'\\\"\\n          [disabled]=\\\"!this.credentialsForm.valid\\\" type=\\\"submit\\\" color=\\\"primary\\\">Register</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </form>\\n  <div style=\\\"padding-top: 20px;\\\" class=\\\"ion-text-center\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-text style=\\\"color: #30bb9e;\\\" *ngIf=\\\"pageName=='Login'\\\" (click)=\\\"registerPage()\\\" color=\\\"danger\\\"> Click here\\n          to Register </ion-text>\\n        <ion-text style=\\\"color: #30bb9e;\\\" *ngIf=\\\"pageName=='Register'\\\" (click)=\\\"toLoginPage()\\\" color=\\\"danger\\\"> Click\\n          here to Login </ion-text>\\n      </ion-col>\\n      <ion-col>\\n        <ion-text (click)=\\\"toFPassPage()\\\" color=\\\"danger\\\"> Forget password? </ion-text>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}